# Chatbotについて

### 概要
言葉を入力するといくつかのパターンに従って応答する会話プログラム。  
どの応答パターンになるかは都度ランダムに決定する。  
会話ログを記録して応答パターンを増やしていく。  

### 辞書
- ランダム辞書（dics/random.txt）
  - ランダムな文章が登録されている辞書
  - 会話ログからユーザの発言をランダム辞書に追加する
- パターン辞書（dics\pattern.txt）
  - タブで区切り、左側がマッチ条件、右側が応答フレーズ
  - このチャットボットは「機嫌値」という値を持っており、マッチ条件の先頭の数字が変動機嫌値、応答フレーズの先頭の数字が必要機嫌値で、ユーザが入力した言葉にマッチした場合、変動機嫌値によって機嫌値が変動し、必要機嫌値に該当するフレーズを返す
  - 会話ログから名詞、紐づくフレーズを拾い、パターン辞書に追加する
- テンプレート辞書（dics/template.txt）
  - タブで区切り、左側が穴埋めの数、右側がテンプレート
  - 会話ログから名詞の数、テンプレートを拾い、テンプレート辞書に追加する

### 応答パターン
- リピート形式（10%）
  - 入力された言葉をオウム返しして「〇〇ってなに？と応答する
- ランダム形式（20%）
  - ランダム辞書に保存されている文章からランダムに選択して応答する
- テンプレート形式（20%）
  - テンプレート辞書に保存されている名詞の数とユーザが入力した言葉の名詞の数がマッチした場合、テンプレートがランダムに選択され、ユーザの発言の名詞をテンプレートに埋め込み応答する
  - マッチしなかった場合、ランダム形式で応答する
- マルコフ形式（20%）
  - マルコフ連鎖で作成された文章を応答する
- パターン形式（30%）
  - パターン辞書に保存されている文章にマッチした場合、対応するフレーズを応答する
  - マッチしなかった場合、ランダム形式で応答する


### 操作方法/流れ
1. ptnaForm.pyを起動する
2. 入力フォームに言葉を入力し、話すボタンをクリックする
3. 応答が返ってくる（2と3を繰り返す）
4. GUIの右上「×」ボタンもしくは、左上ファイルメニューから「閉じる」をクリックする
5. 「辞書を更新してもいい？」というダイアログが表示され、「はい」をクリックすると各辞書が更新される